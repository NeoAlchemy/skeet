<html>
    <head>  
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
        <script>
            AFRAME.registerComponent('button', {
              init: function () {
                    // Add click event listener to the fake button
                    fakeButton.addEventListener('click', function() {
                        // Hide the red box by setting its visibility to false
                        console.log("test")
                        document.getElementById('redBox').setAttribute('visible', 'false');
                    });

                    fakeButton.addEventListener('touchstart', function() {
                        document.getElementById('redBox').setAttribute('visible', 'false');
                    });

              }
            });
        </script>
    </head>
    <body>
        <a-scene button>
            <a-assets>
                <a-asset-item id="shotgun" src="/assets/shotgun/shotgun.gltf"></a-asset-item>
                <a-asset-item id="shotgun-obj" src="/assets/shotgun/shotgun.obj"></a-asset-item>
                <a-asset-item id="shotgun-mtl" src="/assets/shotgun/shotgun.mtl"></a-asset-item>
            </a-assets>

            <a-box id="redBox" color="red" position="0 1 -20" rotation="0 45 45"></a-box>
            

            <a-entity camera look-controls position="0 1.6 0">
                <a-entity obj-model="obj: #shotgun-obj; mtl: #shotgun-mtl" rotation="-30 220 20" position="0.5 -0.6 -1"></a-entity>
                <a-entity id="fakeButton" position="0 -1.3 -2" class="clickable">
                    <a-circle color="white" radius="0.3" position="0 0 0"></a-circle>
                    <a-text value="Shoot" color="black" align="center" position="0 0 0.01" width="2"></a-text>
                </a-entity>          
                <a-entity cursor="rayOrigin: mouse"></a-entity>     
            </a-entity>
            
            <a-entity environment="preset: forest; dressingAmount: 500"></a-entity>
        </a-scene>
    </body>
</html>
